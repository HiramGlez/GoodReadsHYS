<!DOCTYPE html>
<html lang="es-mx">
    <head>
        <title>Proyecto 01</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/style.css" rel="stylesheet">
    </head>
    <body>
           <h1><a href="/index.html">La Biblioteca</a></h1>
    
    <main>
            <h2> La vida secreta de la mente</h2>
            <p> Mariano Sigman </p>
            <p>
                 La vida secreta de la mente es un viaje especular que recorre el cerebro y el pensamiento: se trata de descubrir nuestra mente para entendernos hasta en los más pequeños rincones que componen lo que somos, cómo forjamos las ideas en los primeros días de vida, cómo damos forma a las decisiones que nos constituyen, cómo soñamos y cómo imaginamos, por qué sentimos ciertas emociones hacia los demás, cómo los demás influyen en nosotros, y cómo el cerebro se transforma y, con él, lo quesomos.
            </p>
            

            <button onclick = "recomendarLibro()">Recomendar Libro</button>
    </main>

    <script>
        // Función para buscar un libro
        document.getElementById("buscarLibroForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevenir el envío del formulario por defecto
            
            const query = document.getElementById("query").value; // Obtener el valor del campo de búsqueda
            buscarLibro(query); // Llamar a la función para buscar el libro
        });
        
        function buscarLibro(query) {
            fetch(`/buscar_libro?query=${query}`) // Realizar solicitud GET al servidor con la consulta
                .then(response => response.text())
                .then(data => {
                    document.getElementById("resultadoBusqueda").innerHTML = data; // Mostrar resultados de la búsqueda
                })
                .catch(error => console.error('Error al buscar el libro:', error));
        }

        // Función para recomendar un libro
        function recomendarLibro() {
            fetch('/recomendar_libro') // Realizar solicitud GET al servidor para recomendar el libro
                .then(response => response.text())
                .then(data => {
                    // Mostrar el nombre del libro recomendado con un hipervínculo a la página del libro
                    const link = document.createElement('a');
                    link.href = '/libro'; // Ruta de la página del libro
                    link.textContent = data; // Nombre del libro
                    document.getElementById('recomendacion').appendChild(link);

                    // Agregar una imagen con una breve descripción del libro
                    const imagen = document.createElement('img');
                    imagen.src = 'ruta_a_la_imagen'; // Ruta de la imagen del libro
                    imagen.alt = 'Descripción breve del libro'; // Descripción breve del libro
                    document.getElementById('recomendacion').appendChild(imagen);
                })
                .catch(error => {
                    console.error('Error al recomendar el libro:', error);
                    document.getElementById('recomendacion').textContent = 'Lo sentimos, no se pudo recomendar un libro en este momento.';
                });
        }
    </script>

    </body>
</html>
